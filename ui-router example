var app = angular.module('myModule', [ "ui.router" ]).config(['$stateProvider','$urlMatcherFactoryProvider','$urlRouterProvider','$locationProvider',
		function($stateProvider,$urlMmatcherFactoryProvider,$urlRouterProvider,$locationProvider) {
	$urlMmatcherFactoryProvider.caseInsensitive(true);
	$locationProvider.html5Mode(true);
	$urlRouterProvider.otherwise("/home");
	$stateProvider.state("home", {
				url :"/home",
				templateUrl : "templates/home.html",
				controller : "myController",
				data : {
					customData : "Custom data in home Controller"
				}
			}).state("courses", {
				url :"/courses",
				templateUrl : "templates/courses.html",
				controller : "coursesController",
				data : {
					customData : "Custom data in courses Controller"
				}
			}).state("students", {
				url :"/students",
				templateUrl : "templates/students.html",
				controller : "studentsController"
			}).state("studentDetails", {
				url :"/students/:id",
				templateUrl : "templates/studentDetails.html",
				controller : "studentDetailsController"
			}).state("studentsSearch", {
				url :"/studentsSearch/:name",
				templateUrl : "templates/studentsSearch.html",
				controller : "studentsSearchController"
			})/*.otherwise( {
				redirectTO : "templates/home.html",
			})
			
			
*/
		}]).controller('myController', function($scope,$state) {
	$scope.message = "Home Page";
	console.log($scope.message);
	$scope.homeCustomData = $state.current.data.customData;
	$scope.coursesCustomData = $state.get("courses").data.customData;

}).controller('coursesController', function($scope) {
	$scope.message = "Courses";
	console.log($scope.message);

	$scope.courses = [ "C#", "Java" ];
}).controller('studentsController', function($scope,service, $state) {
	var vm = this;
	$scope.message = "Students";
	$scope.students =service.processing();
	
	$scope.searchStudent = function(){
		
		/*if($scope.name){
		$location.url("/studentsSearch/"+$scope.name);
	}else{
		$location.url("/studentsSearch/");
		
	}*/
		$state.go("studentsSearch",{name : $scope.name});
		
	}
	
	
	
		
	console.log($scope.students);
})

.controller('studentDetailsController', function($scope,$stateParams,service) {
	$scope.message = "Student Details";
	$scope.student = service.processing().find(function (student){ 
		return student.id == $stateParams.id;
		
		
	});
	console.log($scope.student);
}).controller('studentsSearchController', function($scope,$stateParams,service) {
	$scope.message = "Student Details";
	if($stateParams.name){
	$scope.students = service.processing().filter(function (student){ 
		return student.name.startsWith($stateParams.name);
		
		
	});
	name
	
	}else{
		$scope.students = service.processing();
	}
})


-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="myModule">
<head>
<title>Angular Application</title>
<base href="/wfm/irms/jsp/angular/angular.html"/>
<link rel="stylesheet" href="style.css" />
<script type="text/javascript" src="angular.js"></script>
<script type="text/javascript" src="angular-ui-router.js"></script>
<script type="text/javascript" src="myScript.js"></script>
<script type="text/javascript" src="services.js"></script>
</head>
<body>
	<table>
		<tr>
			<td colspan="2" class="header">
				<h1>WebSite header</h1>
			</td>
		</tr>
		<tr>
			<td class="leftMenu">
			<a ui-sref="home" ui-sref-active="activeState">Home</a>
			<a ui-sref="courses" ui-sref-active="activeState">Courses</a>
			<a ui-sref="students" ui-sref-active="activeState">Students</a>
			</td>
			
			<td class="mainContent">
			<ui-view></ui-view>
			</td>
		</tr>
		<tr>
			<td colspan="2" class="footer"><b>Web site Footer</b>
		</tr>
	</table>

</body>
</html>

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
